(function(e,r){var n=0;e.nextTick=e.requestAnimationFrame||function(r,n){e.setTimeout(r,n||0)};e.uuid=function(e,r){var t=(+new Date).toString(36);if(r)return t.slice(-r);return(e||"")+t+"_"+ ++n};function t(e,r){return Object.prototype.toString.call(e)=="[object "+r+"]"}var i=e.util={uuid:uuid,build_query:function(e){if(t(e,"String"))return e;var r=[];for(var n in e){e[n]!==""&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return r.join("&")},extend:function(){var e,r;function n(e,r){for(var n in r){e[n]=r[n]}}i.toArray(arguments).forEach(function(i){r=i;if(!t(i,"Object"))return;if(!e)e=i;else n(e,i)});return e||r},report:function(){console&&console.log&&console.log.apply(console,arguments)},reportErr:function(){console&&console.error&&console.error.apply(console,arguments)},nextTick:nextTick,toArray:function(e,r){return Array.prototype.slice.call(e,r||0)},isArray:function(e){return t(e,"Array")},detectType:function(e,r){return t(e,r)},throttle:function e(r,n){var t=null;n=n||10;return function(){var e=this,i=arguments;clearTimeout(t);t=setTimeout(function(){r.apply(e,i)},n)}},debounce:function e(r,n,t){var i,o;return function(){var e=this,u=arguments;var f=function(){i=null;if(!t)o=r.apply(e,u)};var a=t&&!i;clearTimeout(i);i=setTimeout(f,n);if(a)o=r.apply(e,u);return o}}};var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;e.loadJS=function(e,r){r=r||{};var n=document.createElement("script");n.type="text/javascript";n.src=e;if(r.onErr)n.onerror=r.onErr;if(r.onLoad)n.onload=r.onLoad;o.appendChild(n);return n};e.loadCSS=function(e){var r=document.createElement("link");r.setAttribute("rel","stylesheet");r.setAttribute("href",e);o.appendChild(r)}})(this);(function(e,r){var n={},t="__event_once";function i(e){var r=util.toArray(arguments,1);if(!(e in n))return;var i=[];for(var o=0,u=n[e].length;o<u;o++){var f=n[e][o];if(!f)return;f.apply(null,r);if(f[t]){n[e][o]=null;i.push(o)}}for(var o=i.length-1;o>=0;o--)n[e].splice(i[o],1)}function o(e,r){var n=true;e.sort();u(e.join("|"),r,n);var t=[],o={};function f(r){t.push(r);if(arguments.length>2)o[r]=util.toArray(arguments,1);else o[r]=arguments[1];if(t.length>=e.length){t.sort();i(t.join("|"),o)}}for(var a=0;a<e.length;a++){u(e[a],f.bind(null,e[a]),n)}}function u(e,r,i){if(util.isArray(e))return o(e,r);if(!(e in n))n[e]=[];if(i)r[t]=true;n[e].push(r)}function f(e,r){if(!r){delete n[e];return}for(var t=n[e].length-1;t>=0;t--){if(n[e][t]===r){n[e].splice(t,1);break}}}function a(e){return n[e]}e.emitter={on:u,once:function(e,r){u(e,r,true)},emit:i,removeListener:f,listeners:a}})(this);(function(e,r){var n={},t=[],i={},o={},u={},f={},a={},c={serverHost:"/~",ENV:"PRODUCT"};function l(e,r,t){if(a[e])return a[e];if(util.detectType(e,"Function")){e=f[e]}if(e){e=s(e,r)}var i=e;if(t)i+="@"+t;if(!m(e,t)){if(!c.hardDefining){throw e+"@"+t+" lost"}else{n[i]={}}}return n[i]}function s(e,r){if(r){var n=e.split("/");if("."==n[0])n[0]=r.split("/")[0];var t=[];n.forEach(function(e){if(!e||"."==e)return;if(".."==e)t.pop();else t.push(e)});e=t.join("/")}return e}var v={DEFINING:1,ASYNCLOAD:2,DEFINED:3};var d="localStorage"in window?window.localStorage:null;function h(){c.hardDefining=true;Object.keys(i).forEach(function(e){p(e,[],i[e])});delete c.hardDefining;o={};i={}}function p(e,d,y,E){if(!y)return;var x=s(e);var D=x;var j=p.ns;if(j)D+="@"+j;if(D in a)return;if(!c.hardDefining){if(D in n)return;i[e]=y}else{if(o[e])return;o[e]=true}u[D]=v.DEFINING;E=E||{};var N=[];for(var A=0,T=d.length;A<T;A++){var b=d[A];if(util.detectType(b,"Function")){if(!f[b])f[b]=b();d[A]=f[b]}var C=s(d[A],x);if(!m(C,j))N.push(C)}if(N.length){if(!E.defered){nextTick(function(){E.defered=true;p(e,d,y,E)});return}if(E.throwIfDepMiss)return emitter.emit(D+":loadfail",{message:N.join(",")+" miss while loading "+x});var S=[];for(var A=N.length-1;A>=0;A--){var w=s(N[A]);if(j)w+="@"+j;S.push(w+":defined");if(u[w]||t.indexOf(N[A])>=0)N.splice(A,1);else u[w]=v.ASYNCLOAD}emitter.on(S,function(){if(c.hardDefining&&i[e])return;p(e,d,y)});if(N.length){g(N)}else if(c.enableHardDefine){nextTick(h)}return}delete i[e];var I={},_={exports:r};var L=y(function(e){return l(e,x,j)},I,_);if(r===_.exports){n[D]=util.extend(n[D],I)||L}else{n[D]=util.extend(n[D],_.exports)}u[D]=v.DEFINED;emitter.emit(D+":defined");!E.fromLocal&&emitter.emit(e+":tocache",y,d)}function m(e,r){var t=s(e);if(r)t+="@"+r;return t in a||t in n}function g(r,n){n=n||{};n.onErr=o;if(!e.util.isArray(r))r=[r];var t=c.Version;if("auto"===t)t=+new Date;t=t?"?v="+t:"";hostNu=n.hostNu||0;var i=c.serverHost;if(util.isArray(i))i=i[hostNu];if(!i){throw"资源未配置";return}function o(){hostNu++;if(!util.isArray(c.serverHost)||hostNu>=c.serverHost.length)return console.error("资源拉取错误");g(r,{hostNu:hostNu})}if(c.ENV==="DEV"){r.forEach(function(e){if(!e||m(e))return;loadJS(i+e+".js"+t,n)})}else{var u=c.combine?c.combine(r):r.join("+")+".js";if(!u)return;loadJS(i+u+t,n)}}e.booter={require:l,define:p,isModLoaded:m,option:function(e,n){if(!e)return c;if(r!==n){c[e]=n}else{for(var t in e)c[t]=e[t]}if(c.localCache&&!d){c.localCache=false}return this},ref:function(e,r){a[e]=r;return this}};if(!e.define)e.define=e.booter.define;function y(r,n){var t=e.util;if(t.isArray(r)){r=r.map(function(e){return e+n})}else if(t.detectType(r,"String")){r+=n}return r}~function(){var r=[],n;e.booter.asyncLoad=function(i,o){var u;if(c.localCache&&c.modsNVersion){~function(){var e="_cjs_",r="_cjs_a_",n="_cjs_lt_";var t=14937408e5,i=4e3,o=2e3;function f(r){return e+m(r)}u=[];var a=D(n),l=false;a=a?a.split(","):[];var s=D(r),v=false;s=s?s.split(","):[];function h(e,r){var n=r.length;return{next:function(){var t=e.indexOf(r);if(t>-1){var i=e.slice(0,t);e=e.slice(t+n);return i}},return:function(){return e}}}function m(e){var r=a.indexOf(e);if(r===-1){l=true;r=a.push(e)-1;N()}return r}function g(e){return a[e]}function y(e){return e.map(g)}function E(e){return e.map(m)}function x(e,r){try{if(c.localCache.decompress)r=c.localCache.compress(r);d.setItem(e,r)}catch(e){console.log("update js list error ",error)}}function D(e){var r=d.getItem(e);if(c.localCache.decompress)r=c.localCache.decompress(r);return r}function j(){return(new Date-t)/1e3/60|0}var N=util.throttle(function(){if(!l)return;x(n,a.join(","))});var A=util.throttle(function(){if(!v)return;x(r,s.join(","))},500);function T(e,r){s[m(b)]=r;v=true;A()}for(var b in c.modsNVersion){var C=c.modsNVersion[b];var S=f(b);var w=D(S);if(w){var I=w.slice(0,32);if(I===C){w=h(w.slice(33),";");var _=w.next(),L=w.return();_=_?y(_.split(",")):[];try{p(b,_,new Function("return function (require ,exports ,module){"+L+"}")(),{fromLocal:true});T(b,j())}catch(e){console.log(e);localStorage.removeItem(S);booter.asyncLoad(b)}continue}}u.push(b);var O=0;emitter.on(b+":tocache",function(e,r){return function(n,t){if(!r||!e)return;window.setTimeout(function(){var i=n.toString();i=i.slice(i.indexOf("{")+1,-1).trim();var o=[r,E(t).join(","),i].join(";");x(e,o)},o+O++*10)}}(S,C))}function k(e){var r=j();s.forEach(function(n,t){n=n|0;if(n+e>=r)return;var i=g(t),o=f(i);localStorage.removeItem(o);T(i,0)})}if(c.localCache.expires&&s){setTimeout(function(){k(c.localCache.expires)},i)}}()}function f(){var e;if(a){e={};i.forEach(function(r){e[r]=l(r)})}else{e=l(i)}o.call(e)}var a=e.util.isArray(i);if(!a)i=[i];var s=[];i.forEach(function(e){if(!m(e))s.push(e)});if(0===s.length){return f()}else{i=s}if(o)emitter.on(y(i,":defined"),f);(u||i).forEach(function(e){if(r.indexOf(e)===-1)r.push(e)});t=r;if(!r.length)return;n&&e.clearTimeout(n);n=e.setTimeout(function(){g(r,{onLoad:function(){if(false===c.enableHardDefine)return;c.enableHardDefine=true}})},0);return this}}()})(this);