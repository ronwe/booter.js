(function(r,e){var t=0;r.nextTick=r.requestAnimationFrame||function(e,t){r.setTimeout(e,t||0)};r.uuid=function(r,e){var n=(+new Date).toString(36);if(e)return n.slice(-e);return(r||"")+n+"_"+ ++t};function n(r,e){return Object.prototype.toString.call(r)=="[object "+e+"]"}var i=r.util={uuid:uuid,build_query:function(r){if(n(r,"String"))return r;var e=[];for(var t in r){e.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]))}return e.join("&")},report:function(){console&&console.log&&console.log.apply(console,arguments)},reportErr:function(){console&&console.error&&console.error.apply(console,arguments)},nextTick:nextTick,toArray:function(r,e){return Array.prototype.slice.call(r,e||0)},isArray:function(r){return n(r,"Array")},detectType:function(r,e){return n(r,e)},throttle:function r(e,t){var n=null;t=t||10;return function(){var r=this,i=arguments;clearTimeout(n);n=setTimeout(function(){e.apply(r,i)},t)}}};var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;r.loadJS=function(r,e){e=e||{};var t=document.createElement("script");t.type="text/javascript";t.src=r;if(e.onErr)t.onerror=e.onErr;if(e.onLoad)t.onload=e.onLoad;o.appendChild(t);return t};r.loadCSS=function(r){var e=document.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("href",r);o.appendChild(e)}})(this);(function(r,e){var t={},n="__event_once";function i(r){var e=util.toArray(arguments,1);if(!(r in t))return;var i=[];for(var o=0,u=t[r].length;o<u;o++){var f=t[r][o];if(!f)return;f.apply(null,e);if(f[n]){t[r][o]=null;i.push(o)}}for(var o=i.length-1;o>=0;o--)t[r].splice(i[o],1)}function o(r,e){var t=true;r.sort();u(r.join("|"),e,t);var n=[],o={};function f(e){n.push(e);if(arguments.length>2)o[e]=util.toArray(arguments,1);else o[e]=arguments[1];if(n.length>=r.length){n.sort();i(n.join("|"),o)}}for(var a=0;a<r.length;a++){u(r[a],f.bind(null,r[a]),t)}}function u(r,e,i){if(util.isArray(r))return o(r,e);if(!(r in t))t[r]=[];if(i)e[n]=true;t[r].push(e)}function f(r,e){if(!e){delete t[r];return}for(var n=t[r].length-1;n>=0;n--){if(t[r][n]===e){t[r].splice(n,1);break}}}function a(r){return t[r]}r.emitter={on:u,once:function(r,e){u(r,e,true)},emit:i,removeListener:f,listeners:a}})(this);(function(r,e){var t={},n={},i={},o={},u={serverHost:"/~",ENV:"PRODUCT"};function f(r,e,n){if(o[r])return o[r];if(util.detectType(r,"Function")){r=i[r]}if(r){r=a(r,e)}if(!v(r,n))throw r+"@"+n+" lost";if(n)r+="@"+n;return t[r]}function a(r,e){if(e){var t=r.split("/");if("."==t[0])t[0]=e.split("/")[0];var n=[];t.forEach(function(r){if(!r||"."==r)return;if(".."==r)n.pop();else n.push(r)});r=n.join("/")}return r}var c={DEFINING:1,ASYNCLOAD:2,DEFINED:3};var l="localStorage"in window?window.localStorage:null;function s(r,u,l,d){var p=a(r);var m=p;var g=s.ns;if(g)m+="@"+g;if(m in t)return;if(m in o)return;n[m]=c.DEFINING;d=d||{};var y=[];for(var E=0,N=u.length;E<N;E++){var j=u[E];if(util.detectType(j,"Function")){if(!i[j])i[j]=j();u[E]=i[j]}var A=a(u[E],p);if(!v(A,g))y.push(A)}if(y.length){if(!d.defered){nextTick(function(){d.defered=true;s(r,u,l,d)});return}if(d.throwIfDepMiss)return emitter.emit(m+":loadfail",{message:y.join(",")+" miss while loading "+p});var C=[];for(var E=y.length-1;E>=0;E--){var S=a(y[E]);if(g)S+="@"+g;C.push(S+":defined");if(n[S])y.splice(E,1);else n[S]=c.ASYNCLOAD}emitter.on(C,function(){s(r,u,l)});if(y.length){h(y)}return}var T={},x={exports:e};var D=l(function(r){return f(r,p,g)},T,x);t[m]=x.exports;if(e===x.exports)t[m]=T||D;n[m]=c.DEFINED;emitter.emit(m+":defined");!d.fromLocal&&emitter.emit(r+":tocache",l,u)}function v(r,e){var n=a(r);if(e)n+="@"+e;return n in o||n in t}function h(e,t){t=t||{};if(!r.util.isArray(e))e=[e];var n=u.Version;if("auto"===n)n=+new Date;n=n?"?v="+n:"";hostNu=t.hostNu||0;var i=u.serverHost;if(util.isArray(i))i=i[hostNu];if(!i){throw"资源未配置";return}function o(){hostNu++;if(!util.isArray(u.serverHost)||hostNu>=u.serverHost.length)return console.error("资源拉取错误");h(e,{hostNu:hostNu})}if(u.ENV==="DEV"){e.forEach(function(r){if(!r||v(r))return;loadJS(i+r+".js"+n,{onErr:o})})}else{var f=e.join("+");if(!f)return;loadJS(i+f+".js"+n,{onErr:o})}}r.booter={require:f,define:s,isModLoaded:v,option:function(r,t){if(!r)return u;if(e!==t){u[r]=t}else{for(var n in r)u[n]=r[n]}if(u.localCache&&!l){u.localCache=false}return this},ref:function(r,e){o[r]=e;return this}};if(!r.define)r.define=r.booter.define;function d(e,t){var n=r.util;if(n.isArray(e)){e=e.map(function(r){return r+t})}else if(n.detectType(e,"String")){e+=t}return e}~function(){var e=[],t;r.booter.asyncLoad=function(n,i){var o;if(u.localCache&&u.modsNVersion){~function(){var r="_cjs_",e="_cjs_a_",t="_cjs_lt_";var n=14937408e5,i=3e3;function f(e){return r+p(e)}o=[];var a=N(t),c=false;a=a?a.split(","):[];var v=N(e),h=false;v=v?v.split(","):[];function d(r,e){var t=e.length;return{next:function(){var n=r.indexOf(e);if(n>-1){var i=r.slice(0,n);r=r.slice(n+t);return i}},return:function(){return r}}}function p(r){var e=a.indexOf(r);if(e===-1){c=true;e=a.push(r)-1;A()}return e}function m(r){return a[r]}function g(r){return r.map(m)}function y(r){return r.map(p)}function E(r,e){try{if(u.localCache.decompress)e=u.localCache.compress(e);l.setItem(r,e)}catch(r){console.log("update js list error ",error)}}function N(r){var e=l.getItem(r);if(u.localCache.decompress)e=u.localCache.decompress(e);return e}function j(){return(new Date-n)/1e3/60|0}var A=util.throttle(function(){if(!c)return;E(t,a.join(","))});var C=util.throttle(function(){if(!h)return;E(e,v.join(","))});function S(r,e){v[p(T)]=e;h=true;C()}for(var T in u.modsNVersion){var x=u.modsNVersion[T];var D=f(T);var I=N(D);if(I){var _=I.slice(0,32);if(_===x){I=d(I.slice(33),";");var w=I.next(),b=I.return();w=w?g(w.split(",")):[];try{s(T,w,new Function("return "+b)(),{fromLocal:true});S(T,j())}catch(r){console.log(r);localStorage.removeItem(D);booter.asyncLoad(T)}continue}}o.push(T);emitter.on(T+":tocache",function(r,e){return function(t,n){if(!e||!r)return;var i=[e,y(n).join(","),t.toString()].join(";");E(r,i)}}(D,x))}function L(r){var e=j();v.forEach(function(t,n){t=t|0;if(t+r>=e)return;var i=m(n),o=f(i);localStorage.removeItem(o);S(i,0)})}if(u.localCache.expires&&v){setTimeout(function(){L(u.localCache.expires)},i)}}()}function a(){var r;if(c){r={};n.forEach(function(e){r[e]=f(e)})}else{r=f(n)}i.call(r)}var c=r.util.isArray(n);if(!c)n=[n];var p=[];n.forEach(function(r){if(!v(r))p.push(r)});if(0===p.length){return a()}else{n=p}if(i)emitter.on(d(n,":defined"),a);(o||n).forEach(function(r){if(e.indexOf(r)===-1)e.push(r)});if(!e.length)return;t&&r.clearTimeout(t);t=r.setTimeout(function(){h(e)},0);return this}}()})(this);